<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <title>Word Guess Game</title>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12" class="jumbotron">
                <h1>Prince Hangman</h1>
            </div>

            <div class="row">
                <div class="col-md-6" id="revealSpace"></div>
                <div class="col-md-6" id="gameboard">
                        <div id="dashboard">
                                <p id="directions-text">Press any key to get started!</p>
                                <p id="currentWord-text">Guess the word below!</p>
                                <h1 id ="hiddenWord-text"></h1>
                                <p id="wins-text"></p>
                                <p id="guessesRemaining-text">Guesses remaining: 8</p>
                                <p id="letguess-header">Letters already guessed</p>
                                <p id="lettersGuessed-text"></p>
                        </div>
                </div>
            </div>

        </div>

        <script type="text/javascript">
            

        //    <!--Variables for choices, wins, guesses left, and incorrect letters             guessed--!>
            var alphabet = ["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];
            var wins =  0;
            var guessesLeft = 8;
            var wrongLetters = [];
            var correctLetters = [];
            var puzzles = ["purple rain", "little red corvette","when doves cry","kiss","diamonds and pearls","nineteen ninety nine","raspberry beret","i wanna be your lover", "let's go crazy","controversy","u got the look"];
         
            var directionsText = document.getElementById("directions-text");
            var hiddenWordtext = document.getElementById("hiddenWord-text");
            var winsText = document.getElementById("wins-text");
            var guessesLeftTxt = document.getElementById("guessesRemaining-text");
            var wrongLettersdtext = document.getElementById("lettersGuessed-text");     
            var hiddenWordtext = document.getElementById("hiddenWord-text");
          
         //start game with any key: computer picks a puzzle//
            document.onkeyup = function(event) {
                console.log("first onkeyup");
                var userStart = event.key;
                
                var solution = puzzles[Math.floor(Math.random()*puzzles.length)];
                var displayWord = solution.replace(/[a-zA-Z]/g , '-').split('');
                console.log(solution);
                console.log(displayWord);
                var displayWordCombo = displayWord.join('');
                hiddenWordtext.textContent = displayWordCombo;
                

                document.onkeyup = function(event) {
                    
                    console.log("second onkeyup");
                    var userGuess = event.key;

                    if (alphabet.includes(userGuess)) {

                        if (solution.indexOf(userGuess) === -1 && wrongLetters.indexOf(userGuess) === -1) {
                            wrongLetters.push(userGuess);
                            guessesLeft--;
                            guessesLeftTxt.textContent = "Guesses remaining: " + guessesLeft;
                        }

                        for (var i = 0; i < solution.length; i++) {
                            if (userGuess == solution[i]) {
                                displayWord[i] = solution[i];
                                correctLetters.push(userGuess);
                            }
                        }
                        
                        console.log(displayWord.join(''));
                        console.log(wrongLetters);
                        hiddenWordtext.textContent = displayWord.join('');
                        wrongLettersdtext.textContent = wrongLetters;

                        if (correctLetters.length === solution.length) {
                            alert("You Won!");
                            wins++;
                            winsText.textContent = "Wins:" + wins;
                        }
                        
                        else if (correctLetters.lentght !== solution.length && guessesLeft === 0) {
                            alert("Game Over!");
                        }
                        
                        
                      
                    }

                   
                }

            }


                //     console.log('second');
                // 
                
                
                // if (currentWord.indexOf(userGuess) === -1) {
                //     lettersGuessed.push(userGuess);
                //     lettersGuessedtext.textContent = lettersGuessed;
                //     guessesLeft --;
                //     guessesRemaining.textContent = "You have " + guessesLeft + " guesses remaining.";

                // }
                // else if (currentWord.indexOf(userGuess) !== -1) {
                //     console.log(currentWord.indexOf(userGuess));
                //     var arrayLength = currentWord.length;
                //     for(var j = 0; j < arrayLength; j++) {  
                //             if(currentWord[j]===userGuess) {
                //             (blindDisplay[j] = userGuess);
                //             // var newblindDisplay = blindDisplay.replace([j], userGuess);
                //             // hiddenWordtext.textContent = newblindDisplay;
                //             };
                //         }

                //     }
                // else if (guessesLeft === 0) {
                //     alert("game over!");
                //     }
                // };
        
      
            
           

        </script>















    </div>
</body>
</html>